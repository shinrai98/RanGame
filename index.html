<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ja">
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="RanGame.css">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script src="CharacterStats.js" defer></script>
    <script src="RanGame.js" defer></script>
	<title>RanGame</title>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <div class="container-fluid border rounded-3 border-2 mt-3 mb-2 shadow">
        <nav class="navbar navbar-expand-lg navbar-light">
            <div class="d-flex align-items-center">
                <a class="navbar-brand d-flex align-items-center" href="index.html">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-joystick" viewBox="0 0 16 16" style="font-size: 2rem; color: cornflowerblue;">
                        <path d="M10 2a2 2 0 0 1-1.5 1.937v5.087c.863.083 1.5.377 1.5.726 0 .414-.895.75-2 .75s-2-.336-2-.75c0-.35.637-.643 1.5-.726V3.937A2 2 0 1 1 10 2"/>
                        <path d="M0 9.665v1.717a1 1 0 0 0 .553.894l6.553 3.277a2 2 0 0 0 1.788 0l6.553-3.277a1 1 0 0 0 .553-.894V9.665c0-.1-.06-.19-.152-.23L9.5 6.715v.993l5.227 2.178a.125.125 0 0 1 .001.23l-5.94 2.546a2 2 0 0 1-1.576 0l-5.94-2.546a.125.125 0 0 1 .001-.23L6.5 7.708l-.013-.988L.152 9.435a.25.25 0 0 0-.152.23"/>
                    </svg>
                    <span class="ms-2 fw-bold" >RanGame</span>
                </a>
                <p class="ms-3 mb-0">Game mà hầu mọi thứ đều ngẫu nhiên cho người lười chơi</p>
            </div>
        </nav>
    </div>
    <div class="container-fluid border border-2 text-center mt-3 pt-1 pb-4 shadow">
        <!-- step1 -->
        <div id="step1">
            <p>Đây là game phụ thuộc vào may mắn rất nhiều . Nếu bạn may mắn thì có thể vượt qua 1 cách rất dễ dàng . Nhưng nếu bạn đen đuổi thì bạn sẽ phải quay trở lại từ đầu rất nhanh</p>
            <div class="d-flex justify-content-center mb-3">
                <img class="img-fluid mx-auto d-block" src="gif/step1.gif" style="max-width: 400px; width:100%;"/>
            </div>
            <div class="mb-3">
                <label class="form-label fs-4 fst-italic" for="NameInput">Tên nhân vật</label>
                <input type="text" class="form-control mx-auto" style="max-width: 300px; width:100%;" id="NameInput" placeholder="Nhập tên nhân vật">
            </div>
            <button class="btn btn-outline-success shadow-lg rounded" onclick="CharacterName()">Xác nhận</button>
        </div>
        <!-- step2 -->
        <div id="step2" style="display: none;">
            <div class="d-flex justify-content-center mb-3">
                <img class="img-fluid mx-auto d-block pt-3 pb-3 " style="max-width: 400px; width: 100%;" src="gif/step2.gif" />
            </div>

            <p>Xin chào <span class="showName text-danger fs-4 fw-bold"></span></p>
            <p>Tiếp theo , chỉ số của bạn sẽ được ngẫu nhiên !! </p>
            <div class="d-flex justify-content-center gap-3">
                <button type="button" class="btn btn-outline-danger shadow" onclick="backToStep1()">Quay lại</button>
                <button type="button" class="btn btn-outline-success shadow" onclick="RanSta()">Go !!</button>
            </div>
        </div>  
        <!--step3-->
        <div id="step3" style="display: none;">
            <div class="d-flex justify-content-center mb-3">
                <img class="img-fluid mx-auto d-block pt-3 pb-3 pt-3 pb-3" style="max-width: 300px; width: 100%;" src="gif/step3.gif" />
            </div>

            <div class="shadow-lg border-3 rounded-2 mx-auto d-block mt-3 mb-4 pb-2 pt-2" style=" max-width: 150px; width: 100%;">
                <span class="showName fs-4 fw-bold" ></span><br>
                <span class='text-success fw-bold'> HP : </span><span class="showHP"></span><br>
                <span class='text-danger fw-bold'> Atk : </span><span class="showAtk"></span><br>
                <span class='text-primary fw-bold'> Def : </span><span class="showDef"></span>
            </div>
            <button class="btn btn-outline-success shadow border rounded" type="button" onclick="GameStart()">Bắt đầu thôi</button>
        </div>
        <!--step4-->
        <div id="step4" style="display: none; height: 600px;">
            <div id="BG">
                <div class="container-fluid mt-3">
                    <div class="d-flex justify-content-center align-items-start flex-wrap gap-2 px-2" style="overflow-x : auto">
                        <!-- main -->
                        <div class=" shadow border rounded p-2 text-center flex-fill mt-5 mb-5 me-6" style="max-width: 240px; min-width: 160px; background-color: whitesmoke;">
                            <img class="rounded w-100" style="max-height: 120px; object-fit: contain;" id = "MainCharGif" src=""/>
                            <div class="shadow border rounded mt-2 py-1 small">
                                <span class="showName fs-4 fw-bold" ></span><br>
                                <span class='text-success fw-bold'> HP : </span><span class="showHP"></span><br>
                                <span class='text-danger fw-bold'> Atk : </span><span class="showAtk"></span><br>
                                <span class='text-primary fw-bold'> Def : </span><span class="showDef"></span>
                            </div>
                        </div>
                        <!--button-->
                        <div class="text-center flex-fill mt-6 border rounded-3" style="max-width: 120px; min-width: 90px; background-color: whitesmoke;" id="roll">
                            <p class="small mb-1">Click vào để bắt đầu giao tranh</p>
                            <button class="btn btn-outline-danger p-0 shadow rounded w-75 aspect-ratio-box mb-3" type="button" >
                                <img class="w-75 h-75 object-fit-cover " onclick="Combat()" src="gif/dice1.gif" />
                            </button>
                        </div>
                        <!--Monster-->
                        <div class="shadow border rounded p-2 text-center flex-fill mt-5 mb-5 ms-6" style="max-width: 240px; min-width: 160px; background-color: whitesmoke; ">
                            <img class="rounded w-100" style="max-height: 120px; object-fit: contain;" id="EnemyGif" src=""/>
                            <div class="shadow border rounded mt-2 py-1 small">
                                <span class="showEName fs-4 fw-bold" ></span><br>
                                <span class='text-success fw-bold'> HP : </span><span class="showEHP"></span><br>
                                <span class='text-danger fw-bold'> Atk : </span><span class="showEAtk"></span><br>
                                <span class='text-primary fw-bold'> Def : </span><span class="showEDef"></span>
                            </div> 
                        </div>
                        <!--Diablog-->
                        <div id="dialogueBox" class="position-fixed start-50 translate-middle-x p-3 bg-white border-2 rounded shadow-lg" style="width: 400px; bottom: 50px">
                        </div>
                        <div id="gameOver" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%, -50%); z-index:1000;">
                            <img src="gif/gameover1.gif" style="max-width:300px;">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    <!-- BGM -->
    <audio id="bgm" loop>
        <source src="bgm/Zambolino-Lighthouse.mp3" type="audio/mpeg">
    </audio>
    </div>
</body>
